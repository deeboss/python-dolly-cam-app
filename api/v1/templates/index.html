<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>Dolly Remote</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/reset.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script type=text/javascript src="{{url_for('static', filename='js/jquery.js') }}"></script>
    <script type=text/javascript src="{{url_for('static', filename='js/jquery-sortable.min.js') }}"></script>
  </head>
  <body>
    <!-- <nav class="other-controls">
      <div class="icon-row">
        <img class="icon settings" src="{{ url_for('static', filename='img/icon-settings.svg') }}"/>
      </div>
    </nav> -->
    <div class='wrapper'>
      <div></div>
      <div class="container--livefeed">
        <!-- <img src="http://placehold.it/1920x1080"> -->
      </div>
      <div class="controls-group">
        <h3>Motor Controls</h3>
                <div class="flex align-center justify-content-evenly">
          <button id="forward">← Forwards</button>
          <button class="success" id="rewind">Rewind ↻</button>
          <button id="backward">Backward →</button>
        </div>
        <label for="eggVolume">Enable fun mode</label>
        <input name="eggVolume" id="eggVolume" type="checkbox" />
      </div>
      <!-- <div class="controls-group">
        <h3>Waypoint Controls</h3>
        
        <ul class="waypoint-list">
          
        </ul>
        <div class="waypoints-control-center">
            <button id="wpRunAll">Run all</button>
            <button id="wpSave" class="success">Save Current Spot</button>
            <button id="wpDeleteAll" class="danger" style="margin-left: 40px">Remove all</button>
        </div>
      </div> -->
      <div class="controls-group">
        <h3>Waypoint Controls</h3>
        <div class="flex align-center justify-content-evenly">
          <h3>Save current position as</h3>
          <div class="waypoint-column">
            <button data-type="saveWaypoint" id="wpOne">Waypoint 1</button>
            <!-- <button data-type="runWaypoint" id="wpOne" class="success">Go Here</button> -->
          </div>
          <div class="waypoint-column">
            <button data-type="saveWaypoint" id="wpTwo">Waypoint 2</button>
            <!-- <button data-type="runWaypoint" id="wpTwo" class="success">Go Here</button> -->
          </div>
          <div class="waypoint-column">
            <button data-type="saveWaypoint" id="wpThree">Waypoint 3</button>
            <!-- <button data-type="runWaypoint" id="wpThree" class="success">Go Here</button> -->
          </div>
        </div>
        <div class="route-preview">
          <div class="route-canvas">
            <span class="route-item vehicle invisible" id="vehicle">
              <span class="tooltip top">MAD-ONE 
                <!-- <span class="tooltip-secondary"><span id="currentSteps">0</span> steps</span> -->
              </span>
              <span class="animation-radar"></span>
            </span>
            <span class="route-item node invisible" id="0"><h4>Waypoint 1</h4><p><span data-node-id="0"></span> steps)</p><span></span></span>
            <span class="route-item node invisible" id="1"><h4>Waypoint 2</h4><p><span data-node-id="1"></span> steps)</p><span></span></span>
            <span class="route-item node invisible" id="2"><h4>Waypoint 3</h4><p><span data-node-id="2"></span> steps)</p><span></span></span>
            <span class="route-length empty"></span>
            <h2><i>No waypoints saved yet</i></h2>
          </div>
        </div>
        <div class="status-bar">
          <span>Status: <span id="status-text">Idle. Ready for commands</span></span>
        </div>
      </div>
      <div class="controls-group">
        <h3>Route Controls</h3>
        
        <div data-route-id="1" class="route-options">
          <div class="input-row">
            <label for="routeFrom">From</label>
            <select name="routeFrom" id="routeFrom">
              <option value="waypointOneSteps">Waypoint One</option>
              <option value="waypointTwoSteps">Waypoint Two</option>
              <option value="waypointThreeSteps">Waypoint Three</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeTo">To</label>
            <select name="routeTo" id="routeTo">
              <option value="waypointOneSteps">Waypoint One</option>
              <option selected value="waypointTwoSteps">Waypoint Two</option>
              <option value="waypointThreeSteps">Waypoint Three</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeEasing">Easing</label>
            <select name="routeEasing" id="routeEasing">
              <option value="Linear">Linear</option>
              <option value="QuadraticIn">QuadraticIn</option>
              <option value="QuadraticOut">QuadraticOut</option>
              <option selected value="QuadraticInOut">QuadraticInOut</option>
              <option value="CubicIn">CubicIn</option>
              <option value="CubicOut">CubicOut</option>
              <option value="CubicInOut">CubicInOut</option>
              <option value="QuarticIn">QuarticIn</option>
              <option value="QuarticOut">QuarticOut</option>
              <option value="QuarticInOut">QuarticInOut</option>
              <option value="QuinticIn">QuinticIn</option>
              <option value="QuinticOut">QuinticOut</option>
              <option value="QuinticInOut">QuinticInOut</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeDuration">Duration (Seconds)</label>
            <input name="routeDuration" value="6" id="routeDuration" type="number" pattern="[0-9]*"/>
          </div>
          <button data-route-id="1" style="margin: 18px 0px 2px;" id="runThisRoute" class="success">Run This Route</button>
        </div>
        <div data-route-id="2" class="route-options">
          <div class="input-row">
            <label for="routeFrom">From</label>
            <select disabled name="routeFrom" id="routeFrom">
              <option value="waypointOneSteps">Waypoint One</option>
              <option selected value="waypointTwoSteps">Waypoint Two</option>
              <option value="waypointThreeSteps">Waypoint Three</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeTo">To</label>
            <select name="routeTo" id="routeTo">
              <option value="waypointOneSteps">Waypoint One</option>
              <option value="waypointTwoSteps">Waypoint Two</option>
              <option selected value="waypointThreeSteps">Waypoint Three</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeEasing">Easing</label>
            <select name="routeEasing" id="routeEasing">
              <option value="Linear">Linear</option>
              <option value="QuadraticIn">QuadraticIn</option>
              <option value="QuadraticOut">QuadraticOut</option>
              <option selected value="QuadraticInOut">QuadraticInOut</option>
              <option value="CubicIn">CubicIn</option>
              <option value="CubicOut">CubicOut</option>
              <option value="CubicInOut">CubicInOut</option>
              <option value="QuarticIn">QuarticIn</option>
              <option value="QuarticOut">QuarticOut</option>
              <option value="QuarticInOut">QuarticInOut</option>
              <option value="QuinticIn">QuinticIn</option>
              <option value="QuinticOut">QuinticOut</option>
              <option value="QuinticInOut">QuinticInOut</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeDuration">Duration (Seconds)</label>
            <input name="routeDuration" value="6" id="routeDuration" type="number" pattern="[0-9]*"/>
          </div>
          <button style="margin: 18px 0px 2px;" id="runThisRoute" class="success">Run This Route</button>
        </div>
        <div data-route-id="3" class="route-options">
          <div class="input-row">
            <label for="routeFrom">From</label>
            <select disabled name="routeFrom" id="routeFrom">
              <option value="waypointOneSteps">Waypoint One</option>
              <option value="waypointTwoSteps">Waypoint Two</option>
              <option selected value="waypointThreeSteps">Waypoint Three</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeTo">To</label>
            <select name="routeTo" id="routeTo">
              <option selected value="waypointOneSteps">Waypoint One</option>
              <option value="waypointTwoSteps">Waypoint Two</option>
              <option value="waypointThreeSteps">Waypoint Three</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeEasing">Easing</label>
            <select name="routeEasing" id="routeEasing">
              <option value="Linear">Linear</option>
              <option value="QuadraticIn">QuadraticIn</option>
              <option value="QuadraticOut">QuadraticOut</option>
              <option value="QuadraticInOut">QuadraticInOut</option>
              <option value="CubicIn">CubicIn</option>
              <option value="CubicOut">CubicOut</option>
              <option selected value="CubicInOut">CubicInOut</option>
              <option value="QuarticIn">QuarticIn</option>
              <option value="QuarticOut">QuarticOut</option>
              <option value="QuarticInOut">QuarticInOut</option>
              <option value="QuinticIn">QuinticIn</option>
              <option value="QuinticOut">QuinticOut</option>
              <option value="QuinticInOut">QuinticInOut</option>
            </select>
          </div>
          <div class="input-row">
            <label for="routeDuration">Duration (Seconds)</label>
            <input name="routeDuration" value="6" id="routeDuration" type="number" pattern="[0-9]*"/>
          </div>
          <button style="margin: 18px 0px 2px;" id="runThisRoute" class="success">Run This Route</button>
        </div>
        <div style="text-align: center">
          <div><input id="syncRoutes" name="syncRoutes" checked="true" type="checkbox">Sync Routes?</input></div>
          <button style="margin: 18px auto 2px; font-size: larger;" id="runAllRoutes" class="success">🚀 Run All Routes</button>
        </div>
      </div>
      <div class="controls-group">
        <h3>Other GPIO Related Controls</h3>
                <button id="blinkLed">
          Make Pi Blink
        </button>
      </div>
      <div class="controls-group">
        <h3>Camera Related Controls</h3>
                <button id="checkForCamera">Check If Camera Exists</button>
        <button id="captureImage">
          Capture Image
        </button>
        <button id="openSettings">Show/Hide Configs</button>
        <div class="drawer" style="display: none;">
          <ul class="drawer-list">
          </ul>
        </div>
      </div>
      <div class="controls-group">
        <h3>Other</h3>
        <button id="restart">
          Restart Server
        </button>
        <button class="danger" id="shutdown">
          Shutdown Server
        </button>
      </div>
    </div>
    <script type="text/javascript">
    /**
      var configsData = JSON.parse('{{ data | tojson | safe}}');
        // console.log(configsData);
        var target = $('.drawer-list');

        for (var i = configsData.length - 1; i >= 0; i--) {
          var configId = configsData[i].id;
          var optionName = configsData[i].Label;
          var optionsDiv = $('<div class="flex">');

          if (configsData[i].Choice) {
            target.append(
              $('<li>')
              .append(
                $('<div class="list-title">')
                  .append(
                    optionName
                  )
              )
              .append(
                  $('<div class="list-options">')
                    .append(
                      optionsDiv
                    )
              )
            )

            
            for (var j = 0; j < configsData[i].Choice.length; j++) {
              var optionsName = configsData[i].Choice[j]

              if (configsData[i].Choice.length > 10) {
                optionsDiv.addClass("options--x-scroll-view");
              } else if (configsData[i].Choice.length < 4) {
                optionsDiv.addClass("options--centered-view");
              } else {
                optionsDiv.addClass("options--list-view");
              }
              

              optionsDiv.append($('<div>')
                .append(
                  $('<input type="radio">').attr({
                    id: configId + '_' + j,
                    name: configId
                  })
                )
                .append(
                  $('<label>').attr({
                    for: configId + '_' + j
                  })
                    .append(
                      optionsName
                    )
                )
              )
            }
          }
          
          
        }
        **/
    </script>
    <script type=text/javascript src="{{url_for('static', filename='js/app.js') }}"></script>
  </body>
</html>
